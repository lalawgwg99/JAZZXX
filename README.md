# Concept Art Prompt Generator (概念美術提示詞生成器)

一個專為 AI 繪畫（GPT、Midjourney、Stable Diffusion 等）設計的**結構化提示詞生成工具**。通過可視化的"填空"交互方式，幫助用戶快速構建、管理和迭代複雜的 Prompt。

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Version](https://img.shields.io/badge/Version-0.4.0-orange.svg)
![React](https://img.shields.io/badge/React-18.x-61DAFB.svg)
![Vite](https://img.shields.io/badge/Vite-5.x-646CFF.svg)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.4-38B2AC.svg)

## ✨ 核心特性

*   **🧩 智能詞庫管理**：
    *   **分類管理**：支持自定義詞庫分類（如人物、動作、畫面、物品等），并通過顏色區分，視覺更清晰。
    *   **雙向同步**：在右側預覽填空時，可直接添加"自定義選項"，自動反向同步到左側詞庫中，無需來回切換。
    *   **分類編輯器**：內置分類管理器，支持增刪改分類及其顏色配置（12種預設顏色）。
    *   **響應式佈局**：詞庫列表支持瀑布流式多列佈局，空間利用更高效。

*   **📝 多模板系統**：
    *   支持創建多個獨立的 Info 模板（如"角色概念分解圖"、"3x3 攝影網格"）。
    *   **獨立狀態**：每個模板的變量選擇（Selection）互不干擾。
    *   **副本克隆**：支持一鍵創建模板副本，方便進行 A/B 測試或微調。

*   **🖱️ 可視化交互**：
    *   **所見即所得編輯**：編輯模式下變量根據分類顏色高亮顯示，支持直接文本編輯與結構調整。
    *   **拖拽插入**：直接將左側詞庫卡片拖入編輯區域，即可快速插入變量。
    *   **預覽模式**：模板中的變量（`{{role}}`）會自動渲染為可點擊的下拉菜單。
    *   **獨立實例**：同一變量在模板中出現多次（如 `{{color}}`），可分別選擇不同的值（支持 `color-0`, `color-1` 獨立索引）。

*   **💾 自動持久化**：
    *   利用 LocalStorage 自動保存所有修改（模板、詞庫、分類配置）。
    *   刷新頁面或關閉瀏覽器後，數據不會丟失。

*   **🖼️ 圖像管理**：
    *   **預覽圖展示**：每個模板支持關聯預覽圖，顯示在模板標題區域，視覺效果更豐富。
    *   **自定義上傳**：支持上傳自定義圖片替換默認預覽圖（支持 jpg、png、webp 等格式）。
    *   **圖片操作**：懸停在圖片上時顯示操作按鈕：查看大圖、上傳新圖、重置默認圖。
    *   **大圖預覽**：點擊查看大圖按鈕，可在 Lightbox 模式下全屏瀏覽圖片。
    *   **裝飾背景**：預覽圖會作為模糊背景顯示在模板頂部，營造沉浸式氛圍。

*   **📋 導出與分享**：
    *   **一鍵複製**：複製最終生成的純淨 Prompt 文本。
    *   **保存長圖**：支持將當前填好內容的 Prompt 模板導出為高清圖片，方便分享與存檔。

## 🛠️ 技術棧

*   **構建工具**: [Vite](https://vitejs.dev/)
*   **前端框架**: [React](https://react.dev/)
*   **樣式庫**: [Tailwind CSS](https://tailwindcss.com/)
*   **圖標庫**: [Lucide React](https://lucide.dev/)
*   **導出工具**: [html2canvas](https://html2canvas.hertzen.com/)

## 🚀 快速開始

### 前置要求
確保您的環境已安裝 [Node.js](https://nodejs.org/) (推薦 v18+)。

### 安裝與運行

1.  **克隆項目**
    ```bash
    git clone https://github.com/TanShilongMario/PromptFill.git
    cd PromptFill
    ```

2.  **安裝依賴**
    ```bash
    npm install
    ```

3.  **啟動開發服務器**
    ```bash
    npm run dev
    ```
    會自動打開瀏覽器訪問 `http://localhost:5173`。

4.  **構建生產版本**
    ```bash
    npm run build
    ```

### 快捷啟動腳本
項目根目錄下提供了快捷腳本，雙擊即可一鍵啟動服務並打開瀏覽器：
*   **macOS**: `start.command`
*   **Windows**: `start.bat`

## 📖 使用指南

### 第一步：管理分類 (Categories)
*   點擊左側面板頂部的"管理分類"按鈕。
*   在此處您可以添加新分類、修改現有分類名稱或顏色（支持12種預設顏色），以及刪除不需要的分類。
*   每個分類都有獨特的顏色標識，幫助您在編輯和預覽時快速識別不同類型的變量。

### 第二步：創建詞庫 (Banks)
*   點擊"創建新變量組"添加新的變量詞庫，並為其指定分類。
*   在詞庫卡片中添加具體選項：
    *   **單個添加**：直接輸入選項並按回車。
    *   **批量添加**：輸入多個選項（一行一個），系統會自動分割添加。
*   詞庫支持拖拽功能，可直接拖入編輯器快速插入變量。

### 第三步：編輯模板 (Templates)
*   點擊右上角的"編輯模板"按鈕進入可視化編輯模式。
*   **拖拽插入**：按住左側的詞庫卡片，拖入編輯器即可插入變量（如 `{{weather}}`）。
*   **手動輸入**：也可以直接在編輯器中輸入 `{{變量名}}`，系統會自動識別並渲染。
*   **編輯器中的變量**會根據其所屬分類顯示對應顏色，方便識別和管理。
*   **支持撤銷/重做功能**，隨時調整模板結構。

### 第四步：預覽與生成
*   切換回"預覽交互"模式。
*   點擊彩色的變量詞，從下拉菜單中選擇選項。
*   **自定義選項**：如果選項不存在，點擊下拉菜單底部的"+ 添加自定義選項"，輸入並回車即可直接選用並自動保存到詞庫。
*   **多實例支持**：同一變量在模板中出現多次時（如 `{{color}}`），每個實例可以獨立選擇不同的值。

### 第五步：管理模板圖片（可選）
*   **查看預覽圖**：如果模板關聯了預覽圖，會顯示在模板標題右上角，同時作為模糊背景裝飾頂部區域。
*   **上傳自定義圖片**：
    1.  將鼠標懸停在預覽圖上，會顯示三個操作按鈕。
    2.  點擊中間的"上傳圖片"按鈕（圖片圖標）。
    3.  選擇本地圖片文件（支持 jpg、png、gif、webp 等格式）。
    4.  圖片會自動上傳並替換當前預覽圖。
*   **查看大圖**：點擊左側的"查看大圖"按鈕（放大圖標），可在全屏模式下瀏覽圖片細節。
*   **重置圖片**：點擊右側的"重置默認圖片"按鈕（撤銷圖標），可恢復模板的默認預覽圖。

### 第六步：導出與分享
*   **複製結果**：點擊右上角的"複製結果"按鈕，一鍵複製最終生成的純淨 Prompt 文本，可直接粘貼到 AI 繪畫工具中使用。
*   **保存長圖**：點擊"保存長圖"按鈕，將當前填好的 Prompt 模板（包括預覽圖）導出為高清圖片（PNG格式），方便分享、存檔或作為參考。導出前會等待封面圖加載並進行 Base64 預取，避免出現空白封面。
*   **導入 / 導出**：支持導入/導出模板與詞庫為 JSON。導入前建議手動備份，導入後系統模板將自動合併、用戶數據保留。

## 💡 使用技巧

1.  **批量創建詞庫**：在添加選項時，可以一次性輸入多行文本，系統會自動按行分割成多個選項。
2.  **模板副本功能**：在測試不同 Prompt 效果時，使用"創建副本"功能可以保留原模板，方便對比。
3.  **顏色編碼系統**：為不同類型的變量設置不同顏色，可以讓複雜的模板結構更加清晰易讀。
4.  **多實例獨立選擇**：當同一個變量在模板中出現多次時，系統會自動為它們分配獨立的索引（如 `color-0`, `color-1`），每個位置可以選擇不同的值。
5.  **自定義預覽圖**：為模板上傳有代表性的參考圖片，可以幫助快速識別不同模板的用途，也讓導出的長圖更具視覺吸引力。
6.  **圖片尺寸建議**：上傳的預覽圖建議尺寸為 300x300px 左右的正方形或豎圖，這樣能在界面中獲得最佳顯示效果。
7.  **本地數據安全**：所有數據（包括上傳的圖片）都存儲在瀏覽器本地，定期導出備份可以避免數據丟失。
8.  **標籤化檢索**：為模板打標籤後，可在列表中按標籤篩選快速定位。
9.  **瀑布流瀏覽**：模板列表支持瀑布流展示，多張封面瀏覽更高效。
10. **導入/導出**：可一鍵導出全部模板/詞庫為 JSON，或導入他人配置；導入前建議先手動備份。
11. **多源圖片上傳**：新建或編輯模板時，支持本地文件與圖片 URL；如需最佳導出效果，推薦使用同源的 `public/` 內圖片路徑。
12. **本地化存儲**：默認使用瀏覽器本地存儲保存模板、詞庫及圖片；如需跨設備同步，請配合導入/導出。

## 📝 更新日誌

### Version 0.4.0 (2025-12-10)
*   **模板體驗**：新增瀑布流展示、標籤過濾；支持導入/導出；新建模板可上傳本地或 URL 圖片。
*   **數據存儲**：默認本地化保存模板與詞庫，支持一鍵刷新系統模板/詞庫並保留用戶自定義。
*   **導出改進**：長圖導出等待圖片加載並進行 Base64 預取，避免封面空白。
*   **新模板/詞庫**：新增“經典場景微縮復刻”“可視化企業成長之路”等模板；補充公司、畫幅比例、渲染風格（3D 像素）等詞庫。
*   **工程與啟動**：`start.bat` 與啟動腳本兼容性修復；瀏覽器自動打開邏輯優化。

### Version 0.3.0 (2025-12-08)
*   **UI 優化**：
    *   優化"新建模板"按鈕樣式，採用統一的 Premium Button 設計語言，提升整體視覺一致性
    *   按鈕增加懸停漸變效果和陰影動畫，交互體驗更加流暢
*   **功能說明**：
    *   完善圖像上傳和展示功能的文檔說明
    *   支持自定義上傳模板預覽圖
    *   圖片懸停操作：查看大圖、上傳新圖、重置默認圖
    *   Lightbox 全屏圖片預覽模式
*   **文檔完善**：
    *   重構使用指南，採用分步驟的結構化說明
    *   新增"使用技巧"章節，提供最佳實踐建議（包括圖片使用建議）
    *   新增更新日誌，記錄版本迭代歷史
    *   補充圖像管理功能的詳細說明

### Version 0.2.0
*   增加模板導出長圖功能
*   支持自定義分類顏色配置
*   優化響應式佈局體驗
*   修復多個已知問題

### Version 0.1.0
*   初始版本發布
*   基礎的模板管理功能
*   詞庫創建與編輯功能
*   變量填空交互系統

## 🤝 貢獻

歡迎提交 Issue 或 Pull Request 來改進這個項目！

如果您有任何建議或發現了 Bug，請隨時在 [GitHub Issues](https://github.com/TanShilongMario/PromptFill/issues) 中告訴我們。

## 📄 許可證

本項目採用 [MIT 許可證](LICENSE)。

---

**Made with ❤️ by 角落工作室**
